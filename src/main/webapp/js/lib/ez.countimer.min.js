/*
* countimer - v1.0.0 - 2017-05-31 - https://github.com/envynoiz/countimer#readme
* Copyright (c) 2017 envynoiz 
*/
/**!
 * @preserve
 *
 * Simple jQuery plugin to start a basic count up timer on any HTML element.
 *
 * I wrote this plugin for using into a personal project but could be useful
 * for everyone who needs a simple counter.
 *
 * Licensed under the MIT license.
 */
!function(a,b,c,d){"use strict";var e="plugin_",f="countimer",g=function(b,c){var e=this;e.options={},e.duration={};const f={IN_SECONDS:0,IN_MINUTES:1,IN_HOURS:2,FULL:3,MAX_INDEX:3},g=["second","minute","hour"];var h,i,j,k,l,m,n,o={displayMode:f.FULL,enableEvents:!1,autoStart:!0,useHours:!0,minuteIndicator:"",secondIndicator:"",separator:":",leadingZeros:2,initHours:0,initMinutes:0,initSeconds:0},p=function(a,b){var c="".concat(a);return c.length>=b?c:new Array(b-c.length+1).join("0")+c},q=function(a,b,c){var d=c||e.options.leadingZeros,f=p(a,d);return b?f.concat(e.options.separator):f},r=function(a,b){return""===a||a>b?b:a},s=function(){return moment.duration({seconds:e.options.initSeconds,minutes:e.options.initMinutes,hour:e.options.initHours})},t=function(){return{displayedMode:n[e.options.displayMode](),original:a.extend({},j)}},u=function(b){e.options.enableEvents&&a.each(b,function(a){b[a]&&i.trigger(g[a],t())})},v=function(b){j={hours:e.duration.hours(),minutes:e.duration.minutes(),seconds:e.duration.seconds()};var c=function(a,b){return{unformatted:a,formatted:b}},d={toSeconds:function(){var a=Math.trunc(e.duration.asSeconds()),b=q(a).concat(e.options.secondIndicator);return c({seconds:a},b)},toMinutes:function(){var a=Math.trunc(e.duration.asMinutes()),b=q(a).concat(e.options.minuteIndicator);return c({minutes:a},b)},toHours:function(){var a=Math.trunc(e.duration.asHours());return c({hours:a},q(a))},full:function(){var b=a.extend({},j),f=q(j.hours,!0,2).concat(q(j.minutes,!0,2)).concat(q(j.seconds,!1,2));f=f.concat(e.options.secondIndicator);var g=d.toMinutes(),h={minutes:g.unformatted.minutes,seconds:j.seconds},i=q(h.minutes,!0).concat(q(h.seconds,!1,2));return i=i.concat(e.options.secondIndicator),e.options.useHours?c(b,f):c(h,i)}},f=[!0,0===j.seconds,0===j.minutes&&0===j.seconds];if(n=[d.toSeconds,d.toMinutes,d.toHours,d.full],b||f[m]){var g=n[e.options.displayMode]();l?i.val(g.formatted):i.text(g.formatted)}u(f),e.duration=moment.duration(e.duration.asSeconds()+1,"seconds")},w=function(){if(k)return v(!0),e.intervalFunction=setInterval(v,1e3),k=!1,e},x=function(){e.options=a.extend({},o,c),e.options.displayMode=r(e.options.displayMode,f.MAX_INDEX),e.duration=s(),h=b,i=a(h),k=!0,l=d!==i.attr("value"),m=e.options.displayMode<=f.IN_HOURS?e.options.displayMode:f.IN_SECONDS,e.options.autoStart?e.start():v(!0)};e.start=function(){return e.duration=s(),w()},e.resume=function(){return w()},e.stop=function(){return e.intervalFunction&&(clearInterval(e.intervalFunction),k=!0),e},e.stopped=function(){return k},e.current=function(){return t()},x()};a.fn[f]=function(b){var c="string"==typeof b?b:d;if(c){var h=[];this.each(function(){h.push(a(this).data(e.concat(f)))});var i=arguments.length>1?Array.prototype.slice.call(arguments,1):d,j=[],k=function(a){var b=h[a];if(!b)throw new Error(f.concat(" is not instantiated yet"));if("function"!=typeof b[c])throw new Error("Method ".concat(c).concat(" is not defined on ").concat(f));j.push(b[c].apply(b,i))};return this.each(k),j.length>1?j:j[0]}var l="object"==typeof b?b:d;return this.each(function(){a(this).data(e.concat(f))||a(this).data(e.concat(f),new g(this,l))})}}(jQuery,window,document);